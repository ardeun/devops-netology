#### 1.Какой системный вызов делает команда `cd`?
Меняет рабочий каталог
```sh
chdir("/tmp")
```
#### 2.Используя `strace` выясните, где находится база данных `file` на основании которой она делает свои догадки.
```sh
/usr/share/misc/magic.mgc
```
#### 3.Предположим, приложение пишет лог в текстовый файл. Этот файл оказался удален (deleted в lsof), однако возможности сигналом сказать приложению переоткрыть файлы или просто перезапустить приложение – нет. Так как приложение продолжает писать в удаленный файл, место на диске постепенно заканчивается. Основываясь на знаниях о перенаправлении потоков предложите способ обнуления открытого удаленного файла (чтобы освободить место на файловой системе).
1. по pid процесса узнать дискриптор который он использует
2. отправить в найденный дискриптор пустую строку
```sh
vagrant@vagrant:~$ lsof -p 2978
vagrant@vagrant:~$ echo '' > /proc/2978/fd/4
```
#### 4.Занимают ли зомби-процессы какие-то ресурсы в ОС (CPU, RAM, IO)?
"Зомби" процессы не занимают ресурсы, от них остаётся только запись в таблице процессов.
#### 5.На какие файлы вы увидели вызовы группы open за первую секунду работы утилиты? Воспользуйтесь пакетом `bpfcc-tools` для Ubuntu 20.04.
```sh
root@vagrant:~# dpkg -L bpfcc-tools | grep sbin/opensnoop
/sbin/opensnoop-bpfcc/usr/sbin/opensnoop-bpfcc
root@vagrant:~# /usr/sbin/opensnoop-bpfcc
PID    COMM               FD ERR PATH
791    vminfo              5   0 /var/run/utmp
611    dbus-daemon        -1   2 /usr/local/share/dbus-1/system-services
611    dbus-daemon        20   0 /usr/share/dbus-1/system-services
611    dbus-daemon        -1   2 /lib/dbus-1/system-services
611    dbus-daemon        20   0 /var/lib/snapd/dbus-1/system-services/
619    irqbalance          6   0 /proc/interrupts
619    irqbalance          6   0 /proc/stat
619    irqbalance          6   0 /proc/irq/20/smp_affinity
619    irqbalance          6   0 /proc/irq/0/smp_affinity
619    irqbalance          6   0 /proc/irq/1/smp_affinity
619    irqbalance          6   0 /proc/irq/8/smp_affinity
619    irqbalance          6   0 /proc/irq/12/smp_affinity
619    irqbalance          6   0 /proc/irq/14/smp_affinity
619    irqbalance          6   0 /proc/irq/15/smp_affinity
```
#### 6.Какой системный вызов использует `uname -a`? Приведите цитату из man по этому системному вызову, где описывается альтернативное местоположение в `/proc`, где можно узнать версию ядра и релиз ОС.
```sh
uname()
```
```sh
Part of the utsname information is also accessible via /proc/sys/kernel/{ostype, hostname,  osrelease,  version,  domainname}.
```
#### 7.Чем отличается последовательность команд через `;` и через `&&` в bash? 
- При использовании `&&` вторая команда выполнится только в том случае если первая отработает без ошибки
- `;`- просто разделяет команды, все команды будут последовательно выполненны не зависимо от результатов предыдущих

#### Есть ли смысл использовать в bash `&&`, если применить `set -e`?
`set -e` прерывает выполнение если команда завершилась с не нулевым статусом(с ошибкой), использовать одновременно `&&` и `set -e` смысла не имеет.
#### 8.Из каких опций состоит режим `bash set -euxo pipefail` и почему его хорошо было бы использовать в сценариях?
- -e прерывает выполнение если с не нулевым статусом завершилась любая команды кроме последней в последовательности. 
- -x запись трассировки команд 
- -u прерывает выполнение если неустановленные или не заданные переменные
- -o pipefail возвращает не нулевой код возврата при ошибке отдельной команды в последовательности команд

Повышает деталезацию ошибок, завершает сценарий на любом этапе при возникновении ошибок, кроме последней команды.
#### 9.Используя `-o stat` для `ps`, определите, какой наиболее часто встречающийся статус у процессов в системе. В `man ps` ознакомьтесь (`/PROCESS STATE CODES`) что значат дополнительные к основной заглавной буквы статуса процессов. Его можно не учитывать при расчете (считать S, Ss или Ssl равнозначными).
```sh
vagrant@vagrant:~$ ps -Ao stat | sort -h | uniq -c
      8 I
     37 I<
      1 R+
     28 S
      4 S+
      7 S<
      1 Sl
      1 SLsl
      2 SN
      1 S<s
     15 Ss
      1 Ss+
      8 Ssl
      1 STAT
```
- `S` процессы в режиме ожидания
- `I` фоновые процессы ядра
- дополнительные символы это доп.характеристики.
     + `+`- процессы "переденего плана", которые выводят информацию в tty.
     + `<` - высокий приоритет.
     + `s` - лидер сеанса.
     + `l` - многопоточный.
